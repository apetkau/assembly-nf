params {
  reads = "$baseDir/data/reads/*_{1,2}.fastq.gz"
  outdir = "results"
  fastp_length = 100
}

plugins {
  id 'nf-validation@1.1.3'
}

process {
  executor = 'local'
  cpus = 4
}

profiles {
  singularity {
    singularity.enabled = true
    singularity.autoMounts = true
    docker.enabled = false
  }

  docker {
    docker.runOptions='-u $(id -u):$(id -g)'
    docker.enabled = true
    singularity.enabled = false
  }
  
  cluster {
    process {
      executor = 'slurm'
      memory = '8 GB' 
      time = '30 min'
      cpus = 16    
 
      withLabel: big {
        cpus = 8
        memory = '16 GB'
      }
    }
  }
}

manifest {
    name            = 'apetkau/assembly-nf'
    author          = """Aaron Petkau"""
    homePage        = 'https://github.com/apetkau/assembly-nf'
    description     = """Example assembly pipeline"""
    mainScript      = 'main.nf'
    nextflowVersion = '!>=23.04.0'
    version         = '1.0.0.dev'
    doi             = ''
    defaultBranch   = 'main'
}
